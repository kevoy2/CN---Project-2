document.addEventListener("DOMContentLoaded",function(){var e,t=0;async function n(e){try{var n={};e.forEach((e,t)=>{n[t]=e}),grecaptcha.getResponse();let a=await fetch("https://cn-project-2-backend.vercel.app/save-calculation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,y:t})});if(!a.ok){let o=await a.json();throw Error(o.message||"Failed to save calculation")}let r=await a.json();console.log("Saved to calculations:",r)}catch(i){console.error("Error saving calculation:",i),alert("Error saving to calculations")}}document.getElementById("calc").addEventListener("submit",a=>{var o;a.preventDefault();let r=grecaptcha.getResponse();if(0==r.lenght)throw Error("reCaptcha is not complete!!!");o=new FormData(a.target),e=document.getElementById("di").value,t=function e(t){return t<=0?0:1==t?1:e(t-1)+e(t-2)}(e=DOMPurify.sanitize(e)),document.getElementById("n").innerHTML=e,document.getElementById("answer").innerHTML=t,n(o)})});
